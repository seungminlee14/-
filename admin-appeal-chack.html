<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>다츠 게임즈 | 이의제기 검토</title>
  <link rel="stylesheet" href="/styles.css" />
  <script type="module" src="/js/nav.js" defer></script>
  <script type="module" src="/js/admin-appeal-chack.js" defer></script>
</head>
<body>
  <header class="site-header">
    <a href="/" class="logo">다츠 게임즈</a>
    <div class="nav-right">
      <nav class="nav-links">
        <a href="/" class="nav-link">홈</a>
        <a href="/community" class="nav-link">커뮤니티</a>
        <a href="/admin" class="nav-link">관리자</a>
      </nav>
      <div class="profile-menu">
        <button class="profile-trigger" type="button" aria-expanded="false">
          <span class="profile-avatar" aria-hidden="true">미</span>
          <span class="profile-name">미로그인</span>
          <span class="profile-caret" aria-hidden="true">▾</span>
        </button>
        <div class="profile-dropdown" hidden>
          <a class="profile-action" href="/login">로그인</a>
          <a class="profile-action" href="/signup">회원가입</a>
        </div>
      </div>
    </div>
  </header>

  <main class="form-page">
    <section class="form-card" id="appealAdminGuard">
      <p class="settings-help">관리자 여부를 확인하는 중입니다...</p>
    </section>

    <section class="form-card" id="appealAdminContent" hidden>
      <p class="eyebrow">관리자</p>
      <h1>이의제기 검토</h1>
      <p class="lede">대기/보류 중인 이의제기를 오래된 순서로 확인하고 처리하세요.</p>

      <div class="admin-grid">
        <div class="admin-panel">
          <div class="panel-header">
            <div>
              <h2>대기 중 목록</h2>
              <p class="settings-help">승인/거부된 건은 제외하고 대기·보류만 표시됩니다.</p>
            </div>
            <button id="refreshAppealQueue" class="button ghost" type="button">새로고침</button>
          </div>
          <div id="appealQueueStatus" class="form-status" role="status" aria-live="polite"></div>
          <ul id="appealQueue" class="admin-list"></ul>
        </div>

        <div class="admin-panel">
          <h2>이의제기 보고서</h2>
          <p class="settings-help">왼쪽 목록에서 먼저 보고서를 열고, 검토 후 상태를 결정하세요.</p>
          <div class="appeal-report">
            <dl class="report-grid">
              <div>
                <dt>닉네임</dt>
                <dd id="reportNickname">-</dd>
              </div>
              <div>
                <dt>이메일</dt>
                <dd id="reportEmail">-</dd>
              </div>
              <div>
                <dt>처벌</dt>
                <dd id="reportPunishment">-</dd>
              </div>
              <div>
                <dt>처벌 일시</dt>
                <dd id="reportPunishedAt">-</dd>
              </div>
              <div class="full-span">
                <dt>이의제기 내용</dt>
                <dd id="reportMessage">-</dd>
              </div>
            </dl>

            <form id="appealDecisionForm" class="auth-form">
              <fieldset class="radio-group">
                <legend>처리 상태</legend>
                <label><input type="radio" name="status" value="approved" required /> 승인</label>
                <label><input type="radio" name="status" value="rejected" /> 거부</label>
                <label><input type="radio" name="status" value="onHold" /> 보류</label>
              </fieldset>
              <label class="form-field">
                <span>사유 (15글자 이상)</span>
                <textarea id="appealDecisionReason" rows="3" minlength="15" required placeholder="처리 사유를 입력하세요."></textarea>
              </label>
              <button class="button primary" type="submit">확인</button>
              <div id="appealDecisionStatus" class="form-status" role="status" aria-live="polite"></div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>
</body>
</html>
